name: 1b-5xC-stack-natural-with-dclm-pstar-50-50
description: Cookbook 1Bv2-5xC on stack-edu with natural distribution, and DCLM p* with source mix 50/50
budget: ai2/oe-data
workspace: ai2/dolma2
nodes: 8
gpus: 8
preemptible: true
max_tokens: 127939584000
sequence_length: 4096
seed: 1337
model: olmo2_1B_v2
tokenizer: dolma2
priority: urgent
cluster: ai2/jupiter-cirrascale-2
weka: true
rank_microbatch_size: 32768
global_batch_size: 2097152
metrics_config:
  project: olmo-cookbook
  entity: ai2-llm
dataset:
  sources:
    - name: stack-edu
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/**/*.npy
      target_ratio: 0.5
    - name: dclm:adult_content
      target_ratio: 0.0005720589051995255
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/adult_content/**/*.npy
    - name: dclm:art_and_design
      target_ratio: 0.00624853683672441
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/art_and_design/**/*.npy
    - name: dclm:crime_and_law
      target_ratio: 0.01461741493781709
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/crime_and_law/**/*.npy
    - name: dclm:education_and_jobs
      target_ratio: 0.021438395364631657
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/education_and_jobs/**/*.npy
    - name: dclm:electronics_and_hardware
      target_ratio: 0.017262057470060695
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/electronics_and_hardware/**/*.npy
    - name: dclm:entertainment
      target_ratio: 0.047992376215279375
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/entertainment/**/*.npy
    - name: dclm:fashion_and_beauty
      target_ratio: 6.366833158208091e-05
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/fashion_and_beauty/**/*.npy
    - name: dclm:finance_and_business
      target_ratio: 0.020335135565726706
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/finance_and_business/**/*.npy
    - name: dclm:food_and_dining
      target_ratio: 0.007043079554041834
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/food_and_dining/**/*.npy
    - name: dclm:games
      target_ratio: 0.03445642349800329
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/games/**/*.npy
    - name: dclm:health
      target_ratio: 0.04971091669465983
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/health/**/*.npy
    - name: dclm:history_and_geography
      target_ratio: 0.013549278232370614
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/history_and_geography/**/*.npy
    - name: dclm:home_and_hobbies
      target_ratio: 0.004613233943774899
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/home_and_hobbies/**/*.npy
    - name: dclm:industrial
      target_ratio: 0.007872884183125949
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/industrial/**/*.npy
    - name: dclm:literature
      target_ratio: 0.03412564637323145
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/literature/**/*.npy
    - name: dclm:politics
      target_ratio: 0.01085183140792484
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/politics/**/*.npy
    - name: dclm:religion
      target_ratio: 0.009882601693384547
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/religion/**/*.npy
    - name: dclm:science_math_and_technology
      target_ratio: 0.1051270541849541
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/science_math_and_technology/**/*.npy
    - name: dclm:social_life
      target_ratio: 0.002323140779774185
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/social_life/**/*.npy
    - name: dclm:software
      target_ratio: 0.023669493565130716
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/software/**/*.npy
    - name: dclm:software_development
      target_ratio: 0.055710712153529906
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/software_development/**/*.npy
    - name: dclm:sports_and_fitness
      target_ratio: 0.006536070300881746
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/sports_and_fitness/**/*.npy
    - name: dclm:transportation
      target_ratio: 0.0048993047224350355
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/transportation/**/*.npy
    - name: dclm:travel_and_tourism
      target_ratio: 0.001098685085755524
      paths:
        - s3://ai2-llm/preprocessed/dclm/baseline_topic_ft_lr05_ng2_n3M6_ova_20pct/allenai/dolma2-tokenizer/travel_and_tourism/**/*.npy
