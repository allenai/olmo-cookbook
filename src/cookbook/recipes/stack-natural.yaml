name: 1b-5xC-stack-natural
description: Cookbook 1Bv2-5xC on stack-edu with natural distribution
budget: ai2/oe-data
workspace: ai2/dolma2
nodes: 4
gpus: 8
preemptible: true
max_tokens: 127939584000
sequence_length: 4096
seed: 1337
model: olmo2_1B_v2
tokenizer: dolma2
priority: urgent
cluster: ai2/jupiter-cirrascale-2
weka: true
rank_microbatch_size: 32768
global_batch_size: 2097152
metrics_config:
  project: olmo-cookbook
  entity: ai2-llm
dataset:
  sources:
    - name: stack-edu:C
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/C/*.npy
      target_ratio: 0.03460056269174912
    - name: stack-edu:Cpp
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Cpp/*.npy
      target_ratio: 0.09156360629059476
    - name: stack-edu:CSharp
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/CSharp/*.npy
      target_ratio: 0.0526455590327234
    - name: stack-edu:Go
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Go/*.npy
      target_ratio: 0.01021994070977727
    - name: stack-edu:Java
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Java/*.npy
      target_ratio: 0.22906693712748255
    - name: stack-edu:JavaScript
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/JavaScript/*.npy
      target_ratio: 0.06493968798335928
    - name: stack-edu:Markdown
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Markdown/*.npy
      target_ratio: 0.21129994976351243
    - name: stack-edu:PHP
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/PHP/*.npy
      target_ratio: 0.054037656133722814
    - name: stack-edu:Python
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Python/*.npy
      target_ratio: 0.1316615352877947
    - name: stack-edu:Ruby
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Ruby/*.npy
      target_ratio: 0.01013357355709978
    - name: stack-edu:Rust
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Rust/*.npy
      target_ratio: 0.010365005141533472
    - name: stack-edu:Shell 
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Shell/*.npy
      target_ratio: 0.018579793390165453
    - name: stack-edu:SQL
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/SQL/*.npy
      target_ratio: 0.0516148475747224
    - name: stack-edu:Swift
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/Swift/*.npy
      target_ratio: 0.01103414755816106
    - name: stack-edu:TypeScript
      paths:
        - s3://ai2-llm/preprocessed/stack-edu/allenai/dolma2-tokenizer/TypeScript/*.npy
      target_ratio: 0.018237197757601475
downstream_evaluators:
- olmo2_dev_1b
- codex_humaneval_gold_bpb_0shot
- codex_mbpp_gold_bpb_0shot
- basic_skills_coding_rc_5shot