name: "spring2code-50p-edu-like-2x"
description: "Baseline for code sources; 50% spring2code, 50% DCLM baseline. Spring2code is selected to be same size distribution as StackEdu, via fasttext classification per PL, but with 2x the data."
budget: "ai2/oe-training"
workspace: "ai2/learn2code"
nodes: 4
gpus: 8
preemptible: true
max_tokens: 113_184_153_600
sequence_length: 4_096
global_batch_size: 2_097_152
rank_microbatch_size: 32_768
seed: 1337
model: "olmo2_1B_v2"
tokenizer: "dolma2"
priority: urgent
cluster: ai2/augusta-google-1


metrics_config:
  project: lucas-olmo-cookbook
  entity: ai2-llm
  backend: wandb

dataset:
  sources:
  - name: C-41pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C/step_final/*.npy
    target_ratio: 0.0071816416718733485
  - name: C-90pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C/step_08/*.npy
    target_ratio: 0.008426615361160057
  - name: C-90pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C/step_07/*.npy
    target_ratio: 0.0017104616530953403
  - name: Cpp-35pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C++/step_01/*.npy
    target_ratio: 0.016228892845633374
  - name: Cpp-40pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C++/step_00/*.npy
    target_ratio: 0.001964472329727914
  - name: CSharp-4pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C-Sharp/step_final/*.npy
    target_ratio: 0.0011788533884216426
  - name: CSharp-41pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C-Sharp/step_04/*.npy
    target_ratio: 0.00961524543578505
  - name: CSharp-43pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/C-Sharp/step_03/*.npy
    target_ratio: 0.01564068693012977
  - name: Go-18pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Go/step_final/*.npy
    target_ratio: 0.0009007289910542005
  - name: Go-94pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Go/step_05/*.npy
    target_ratio: 0.003917668712696613
  - name: Go-94pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Go/step_04/*.npy
    target_ratio: 0.00030034630478645617
  - name: Java-56pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Java/step_final/*.npy
    target_ratio: 0.06446967388695272
  - name: Java-65pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Java/step_02/*.npy
    target_ratio: 0.05041266735058956
  - name: JavaScript-60pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/JavaScript/step_final/*.npy
    target_ratio: 0.01942753994339357
  - name: JavaScript-95pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/JavaScript/step_05/*.npy
    target_ratio: 0.011441780758068974
  - name: JavaScript-95pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/JavaScript/step_04/*.npy
    target_ratio: 0.0017151928369822985
  - name: Markdown-38pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Markdown/step_final/*.npy
    target_ratio: 0.03982724532005795
  - name: Markdown-67pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Markdown/step_02/*.npy
    target_ratio: 0.030990535818143598
  - name: Markdown-93pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Markdown/step_01/*.npy
    target_ratio: 0.02725533834985748
  - name: Markdown-94pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Markdown/step_00/*.npy
    target_ratio: 0.007213837662808264
  - name: PHP-38pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/PHP/step_final/*.npy
    target_ratio: 0.010419271106060538
  - name: PHP-74pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/PHP/step_05/*.npy
    target_ratio: 0.009545112789162494
  - name: PHP-74pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/PHP/step_04/*.npy
    target_ratio: 0.007112505789512984
  - name: Python-38pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Python/step_final/*.npy
    target_ratio: 0.025073133567553803
  - name: Python-86pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Python/step_02/*.npy
    target_ratio: 0.031035681797443607
  - name: Python-86pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Python/step_01/*.npy
    target_ratio: 0.009376741818427263
  - name: Ruby-38pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Ruby/step_final/*.npy
    target_ratio: 0.0019570019096540377
  - name: Ruby-74pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Ruby/step_05/*.npy
    target_ratio: 0.0018293957301461878
  - name: Ruby-74pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Ruby/step_04/*.npy
    target_ratio: 0.0013233026514074726
  - name: Rust-30pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Rust/step_final/*.npy
    target_ratio: 0.0015683589972106744
  - name: Rust-93pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Rust/step_01/*.npy
    target_ratio: 0.0032352517404659847
  - name: Rust-93pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Rust/step_00/*.npy
    target_ratio: 0.0003603518575084656
  - name: Shell-12pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Shell/step_01/*.npy
    target_ratio: 0.0011049316097398929
  - name: Shell-17pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Shell/step_00/*.npy
    target_ratio: 0.0004844859364803066
  - name: SQL-40pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/SQL/step_final/*.npy
    target_ratio: 0.010223286984595873
  - name: SQL-83pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/SQL/step_01/*.npy
    target_ratio: 0.011075944358258477
  - name: SQL-90pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/SQL/step_00/*.npy
    target_ratio: 0.0018104038587348455
  - name: Swift-11pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Swift/step_final/*.npy
    target_ratio: 0.0006346768893020239
  - name: Swift-67pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Swift/step_02/*.npy
    target_ratio: 0.0030853040139043205
  - name: Swift-67pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/Swift/step_01/*.npy
    target_ratio: 0.0018238178198207687
  - name: TypeScript-49pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/TypeScript/step_final/*.npy
    target_ratio: 0.004522166926712474
  - name: TypeScript-76pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/TypeScript/step_04/*.npy
    target_ratio: 0.002431783032236959
  - name: TypeScript-76pct
    paths:
    - s3://ai2-llm/preprocessed/the-stack-v2/spring2code_v2/minhash_v2_annotated_partitioned/pruned/allenai/dolma2-tokenizer/TypeScript/step_03/*.npy
    target_ratio: 0.00221637941323571



  - name: dclm-baseline
    target_ratio: 0.50
    paths:
    - s3://ai2-llm/preprocessed/dclm/text_openhermes_reddit_eli5_vs_rw_v2_bigram_200k_train/allenai/dolma2-tokenizer/*.npy
